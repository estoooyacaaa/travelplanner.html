<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TravelPlanner - Planificador de Viajes</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .section { margin-bottom: 30px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        .cheapest { background-color: #d4edda; font-weight: bold; }
        button { padding: 10px; margin: 10px 0; }
        #alert { color: red; font-weight: bold; }
    </style>
</head>
<body>
    <h1>TravelPlanner: Planifica tu Viaje con los Mejores Precios</h1>
    <p>Ingresa un destino y obt√©n sugerencias de recorridos, comida, hoteles y vuelos. Priorizamos el precio m√°s barato.</p>
    
    <label>Destino: <input type="text" id="destination" placeholder="Ej. Par√≠s"></label><br>
    <button onclick="planTrip()">Planificar Viaje</button>
    <button onclick="startMonitoring()">Iniciar Monitoreo de Precios</button>
    
    <div id="alert"></div>
    
    <div class="section">
        <h2>Recorridos Tur√≠sticos</h2>
        <table id="toursTable">
            <thead><tr><th>Recorrido</th><th>Precio ($)</th><th>Duraci√≥n</th></tr></thead>
            <tbody id="toursBody"></tbody>
        </table>
    </div>
    
    <div class="section">
        <h2>Lugares de Comida</h2>
        <table id="foodTable">
            <thead><tr><th>Restaurante</th><th>Precio ($)</th><th>Calificaci√≥n</th></tr></thead>
            <tbody id="foodBody"></tbody>
        </table>
    </div>
    
    <div class="section">
        <h2>Habitaciones de Hotel</h2>
        <table id="hotelsTable">
            <thead><tr><th>Hotel</th><th>Precio/Noche ($)</th><th>Ubicaci√≥n</th></tr></thead>
            <tbody id="hotelsBody"></tbody>
        </table>
    </div>
    
    <div class="section">
        <h2>Pasajes de Aviones</h2>
        <table id="flightsTable">
            <thead><tr><th>Aerol√≠nea</th><th>Precio ($)</th><th>Duraci√≥n</th></tr></thead>
            <tbody id="flightsBody"></tbody>
        </table>
    </div>

    <script>
        const dataTemplates = {
            tours: ["Tour Centro Hist√≥rico", "Excursi√≥n Monta√±a", "Visita Museos"],
            food: ["Restaurante Italiano", "Caf√© Local", "Comida R√°pida"],
            hotels: ["Hotel Centro", "Resort Playa", "Hostal Econ√≥mico"],
            flights: ["Airline A", "Airline B", "LowCost Airlines"]
        };

        let initialPrices = {};

        function getSimulatedData(category) {
            const results = [];
            dataTemplates[category].forEach(item => {
                const price = Math.floor(Math.random() * 200) + 20; // Precio entre 20-220
                const extra = category === 'tours' ? `${Math.floor(Math.random() * 8) + 2} horas` :
                             category === 'food' ? `${(Math.random() * 2 + 3).toFixed(1)} estrellas` :
                             category === 'hotels' ? `Centro` : `${Math.floor(Math.random() * 10) + 5} horas`;
                results.push({ name: item, price, extra });
            });
            return results.sort((a, b) => a.price - b.price);
        }

        function displayResults(category, results) {
            const tbody = document.getElementById(`${category}Body`);
            tbody.innerHTML = '';
            results.forEach((result, index) => {
                const row = tbody.insertRow();
                row.insertCell(0).textContent = result.name;
                row.insertCell(1).textContent = result.price;
                row.insertCell(2).textContent = result.extra;
                if (index === 0) row.classList.add('cheapest');
            });
            initialPrices[category] = results[0].price;
        }

        function planTrip() {
            const dest = document.getElementById('destination').value;
            if (!dest) { alert('Ingresa un destino.'); return; }
            ['tours', 'food', 'hotels', 'flights'].forEach(cat => {
                const results = getSimulatedData(cat);
                displayResults(cat, results);
            });
            document.getElementById('alert').textContent = `‚≠ê Planificaci√≥n completada para ${dest}. Mejores precios destacados.`;
        }

        function startMonitoring() {
            document.getElementById('alert').textContent = 'Monitoreo iniciado. Actualizando precios cada 10 segundos...';
            setInterval(() => {
                ['tours', 'food', 'hotels', 'flights'].forEach(cat => {
                    const newResults = getSimulatedData(cat);
                    displayResults(cat, newResults);
                    const newCheapest = newResults[0];
                    if (initialPrices[cat] && newCheapest.price < initialPrices[cat]) {
                        document.getElementById('alert').textContent = `üö® Alerta: Precio baj√≥ en ${cat}! Nueva mejor oferta: ${newCheapest.name} - $${newCheapest.price}`;
                        initialPrices[cat] = newCheapest.price;
                    }
                });
            }, 10000);
        }
    </script>
</body>
</html>
